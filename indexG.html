<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teaching and Studying System</title>
    <link rel="stylesheet" href="styleG.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body>
<div class="first-nav">
    <nav class="navbar navbar-expand-xl text-dark badge text-wrap bg-dark w-100">
        <a href="" class="navbar-brand ms-3"> </a>
        <button class="navbar-toggler bg-warning float-end" type="button" data-bs-toggle="collapse"
            data-bs-target="#btn">
            <i class="fa fa-bars p-1 fs-2"></i>
        </button>
        <h3 class="fs-1 m-1 p-1 text-warning fw-light float-start">Welcome!!!!</h1>
        
        <div class="collapse navbar-collapse" id="btn">
            <ul class="navbar-nav ms-auto mb-0">
                <li class="nav-item">
                    <a class="nav-link active mx-2 fs-5 text-success" href="indexG.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link mx-2 fs-5 text-success" href="about.html">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link mx-2 fs-5 text-success" href="contact.html">Contact Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link mx-2 fs-5 text-success" href="services.html">Services</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="register" id="register">
        <button class="btn btn-lg bg-warning fs-5 mt-4 ms-2 me-2 p-2 d-flex float-end" id="signup">Sign Up</button>
        <button class="btn btn-lg bg-success fs-5 mt-4 p-2 float-end d-flex" id="sign">Login</button>
    </div>
        <div id="profiles">
        <!-- <button class="btn btn-lg bg-warning fs-5 mt-4 me-2 p-2 d-flex float-end" id="prof">Profile</button>
        <button class="btn btn-lg bg-info fs-5 mt-4 me-2 p-2 d-flex float-end" id="logout">Logout</button> -->
    </div>
</div>
    <div class="m-0 images">
        <img src="images/nee.webp" id="image" class="mySlides w3-animate-top">
        <img src="images/nee2.webp" id="image" class="mySlides w3-animate-bottom">
        <img src="images/home.webp" id="image" class="mySlides w3-animate-top">
        <img src="images/home2.webp" id="image" class="mySlides w3-animate-bottom">
        <img src="images/nee5.jpg" id="image" class="mySlides w3-animate-top">
    </div>
    <div class="m-0 images">
        <img src="images/newe2.webp" id="image" class="mySlides w3-animate-bottom">
        <img src="images/newe3.webp" id="image" class="mySlides w3-animate-top">
        <img src="images/newe4.jpg" id="image" class="mySlides w3-animate-bottom">
        <img src="images/newe5.jpg" id="image" class="mySlides w3-animate-top">
        <img src="images/newe6.jpg" id="image" class="mySlides w3-animate-bottom">
    </div>
    <!-- Below are the code for the login button -->
    <div class="text-center containers" id="containerTwo">
        <div class="bg-dark-secondary containerTwo">
            <div class="bg-dark p-1 m-0 container-two-header">
                <h3 class="text-light fw-boldt fs-5">Login<button class="btn btn-dark m-0 p-2 btn-sm float-end close-btn"
                        id="closebtn">
                        <i class="fa fa-close fs-5"></i>
                    </button></h3>
                </p>
            </div>
            <div class="containers-contents">
                <form class="student" id="students">
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="email">Email</label>
                        <input type="email" id="emails" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your email" required />
                    </div>
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="password">Password</label>
                        <input type="password" id="passwords" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your password" required />
                    </div>
                    <div class="submit">
                        <button type="submit" class="btn btn-sm p-1 m-1 btn-dark fw-boldt fs-5 bg-info submit"style="border-radius: 20px">Login</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
    </div>

    <div class="text-center container" id="contents">
        <div class="bg-dark contents">
            <div class="bg-dark p-2 m-0 container-one-header">
                <h3 class="text-light fw-bold fs-5">Sign Up <button
                        class="btn btn-dark m-0 p-2 btn-sm float-end close-btn" id="close">
                        <i class="fa fa-close fs-5"></i>
                    </button></h3>
            </div>
            <div class="container-contents">
                <div class="paragraph">
                </div>
                <form class="fw-light teacher" id="teachers">
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="fullName">Full Name</label>
                        <input type="text" id="name" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your full name" required />
                        <small>Error Message</small>
                    </div>
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="email">Email</label>
                        <input type="email" id="email" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your email" required />
                        <small>Error Message</small>
                    </div>
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="phoneNo">Phone Number</label>
                        <input type="number" id="phoneNo" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your phone number" required />
                        <small>Error Message</small>
                    </div>
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="address">Address</label>
                        <input type="text" id="address" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your address" required />
                        <small>Error Message</small>
                    </div>
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="password">Password</label>
                        <input type="password" id="password" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please enter your password" required />
                        <small>Error Message</small>
                    </div>
                    <div class="p-1 m-0 info">
                        <label class="float-start fs-5 text-light fw-boldt" type="passwordC">Confirm Password</label>
                        <input type="password" id="passwordC" class="p-1 m-0 fs-6 form-control form-control-lg teacher-info"
                            placeholder="please confirm your password" required />
                        <small>Error Message</small>
                    </div>

                    <div class="submit">
                        <button type="submit" class="btn btn-sm p-1 m-1 btn-dark fw-bold fs-6 bg-info submit" id="submission" style="border-radius: 20px">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    <script>

        //Below are image styling
        var myIndex = 0;
        carousel();

        function carousel() {
            var i;
            var x = document.getElementsByClassName("mySlides");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            myIndex++;
            if (myIndex > x.length) { myIndex = 1 }
            x[myIndex - 1].style.display = "block";
            setTimeout(carousel, 3000);
        }

        const students = document.getElementById('students');
        const emails = document.getElementById('emails');
        const passwords = document.getElementById('passwords');
        const sign = document.getElementById('sign');

        const teachers = document.getElementById('teachers');
        const name = document.getElementById('name');
        const phoneNo = document.getElementById('phoneNo');
        const address = document.getElementById('address');
        const email = document.getElementById('email');
        const password = document.getElementById('password');
        const passwordC = document.getElementById('passwordC');

        const signup = document.getElementById('signup');
        const close = document.getElementById('close');
        const contents = document.getElementById('contents');
        const register = document.getElementById('register');

        //this is the event that shows the containerTwo
        sign.addEventListener('click', () => containerTwo.classList.add('show-containerTwo'));

        //this is the event that hides the containerTwo
        closebtn.addEventListener('click', () => containerTwo.classList.remove('show-containerTwo'));

        //adding event listener to the windows to close the form container whenever click outside the box
        window.addEventListener('click', e => e.target == containerTwo ? containerTwo.classList.remove('show-containerTwo') : false);

        // this is the event that shows the content class
        signup.addEventListener('click', () => contents.classList.add('show-contents'));

        //this is the event that hides content class
        close.addEventListener('click', () => contents.classList.remove('show-contents'));


        //event listeners for the login button
        students.addEventListener('submit', function (e) {
            e.preventDefault();
            if (emails.value == window.localStorage.getItem("email") && passwords.value == window.localStorage.getItem("password")) {
                window.location.href = "/additional.html";
                localStorage.setItem('Are you active', 'true');
            }
            else {
                return alert("invalid email or password");
            }
        });     


        //show input error message
        function showError(input, message) {
            const info = input.parentElement;
            info.className = 'info error';
            const small = info.querySelector('small');
            small.innerText = message;
        }

        //show success outline
        function showSuccess(input) {
            const info = input.parentElement;
            info.className = 'info success';
        }

        // check email is valid
        function checkEmail(email) {
            if (!email.value)
                return showError(email, 'Email can not be empty');
            if (email.value.includes("@")) {
                showSuccess(email);
            } else {
                showError(email, 'Email is not valid');
            }
        }

        //check required fields
        function checkRequired(inputArr) {
            inputArr.forEach(function (input) {
                if (input.value.trim() === '') {
                    // console.log(input.id);
                    showError(input, `${getFieldName(input)} is required`);
                     // showError(input, `${input.id} is required`);
                } else {
                    showSuccess(input);
                }
            });
        }

        //check password match
        function checkPasswordsMatch(input1, input2) {
            if (input1.value !== input2.value) {
                showError(input2, 'Password is not match');
            }else{
                window.location.href = "/additional.html";
            }
        }

        //event listeners
        teachers.addEventListener('submit', function (e) {
            e.preventDefault();
            checkEmail(email);
            checkPasswordsMatch(password, passwordC);
            function setInfo() {
                window.localStorage.setItem("name", name.value);
                window.localStorage.setItem("email", email.value);
                window.localStorage.setItem("phoneNo", phoneNo.value);
                window.localStorage.setItem("address", address.value);
                window.localStorage.setItem("password", password.value);
                window.localStorage.setItem("passwordC", passwordC.value);
            }

            if (password.value == passwordC.value) {
                setInfo();
                alert("Congratulation you are successfully registered! you can close the page and you have to complete the registration by login.");
                window.location.href = "/indexG.html";
            }
            else {
                alert("sorry your password is not match");
            }

        });

    let active = localStorage.getItem('Are you active');
     if(active == "true"){
let profiles = document.getElementById('profiles');
let button = document.createElement('BUTTON');
let button2 = document.createElement('BUTTON');
let text = document.createTextNode("Profile");
let text2 = document.createTextNode("Logout");

button.appendChild(text);
button2.appendChild(text2);

profiles.appendChild(button);
profiles.appendChild(button2);

button.className = "btn btn-lg bg-warning fs-5 mt-4 me-2 p-2 d-flex float-end";
button2.className = "btn btn-lg bg-info fs-5 mt-4 me-2 p-2 d-flex float-end logout";

button.id = "profile";
button2.id = "logout";

//profile button functionality
const profile = document.getElementById('profile');
profile.addEventListener('click', () => window.location.replace('profile.html'));

//logout button functionality
function log(){
    window.location.replace('indexG.html');
    localStorage.setItem('Are you active', 'false')
}
 const logout = document.getElementById('logout');
logout.addEventListener('click', () =>log());

console.log('yea');
register.style.display = 'none';
}else if(active == "false"){
    register.style.display = 'flex';  
    console.log('na');
}else{
    console.log("wrong output");
}
        
    </script>
</body>

</html>